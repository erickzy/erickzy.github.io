<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="opencv," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="#如何安装opencv
##安装anaconda此处无难度，根据anaconda官网安装即可，安装后默认Python到3.6，相关常用数据包基本全部完成安装，仅差OPENCV还需安装
##安装opencv3请注意，这里由于我们python目前已经是3.6，相应的opencv也要使用opencv3，且不论用conda如何安装总会出现如下冲突：
123UnsatisfiableError: The f">
<meta property="og:type" content="article">
<meta property="og:title" content="CV2 install">
<meta property="og:url" content="http://zyplot.com/2017/05/13/CV2-install/index.html">
<meta property="og:site_name" content="⧉ Z.Y Plot">
<meta property="og:description" content="#如何安装opencv
##安装anaconda此处无难度，根据anaconda官网安装即可，安装后默认Python到3.6，相关常用数据包基本全部完成安装，仅差OPENCV还需安装
##安装opencv3请注意，这里由于我们python目前已经是3.6，相应的opencv也要使用opencv3，且不论用conda如何安装总会出现如下冲突：
123UnsatisfiableError: The f">
<meta property="og:updated_time" content="2017-05-13T13:19:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CV2 install">
<meta name="twitter:description" content="#如何安装opencv
##安装anaconda此处无难度，根据anaconda官网安装即可，安装后默认Python到3.6，相关常用数据包基本全部完成安装，仅差OPENCV还需安装
##安装opencv3请注意，这里由于我们python目前已经是3.6，相应的opencv也要使用opencv3，且不论用conda如何安装总会出现如下冲突：
123UnsatisfiableError: The f">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://zyplot.com/2017/05/13/CV2-install/"/>





  <title> CV2 install | ⧉ Z.Y Plot </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">⧉ Z.Y Plot</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://zyplot.com/2017/05/13/CV2-install/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Erick Zhang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar.jpeg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="⧉ Z.Y Plot">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="⧉ Z.Y Plot" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                CV2 install
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-13T20:58:59+08:00">
                2017-05-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/13/CV2-install/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/13/CV2-install/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>#如何安装opencv</p>
<p>##安装anaconda<br>此处无难度，根据anaconda官网安装即可，安装后默认Python到3.6，相关常用数据包基本全部完成安装，仅差OPENCV还需安装</p>
<p>##安装opencv3<br>请注意，这里由于我们python目前已经是3.6，相应的opencv也要使用opencv3，且不论用conda如何安装总会出现如下冲突：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">UnsatisfiableError: The following specifications were found to be in conflict:</div><div class="line">  - opencv3 -&gt; python 2.7* -&gt; openssl 1.0.1*</div><div class="line">  - python 3.6*</div></pre></td></tr></table></figure>
<p>Rootcause是由于python版本太高，没有适应的opencv自动安装，<br>解决思路就是手动安装opencv最新版，地址如下：<br><code>https://github.com/conda-forge/opencv-feedstock</code><br><a href="http://stackoverflow.com/questions/41873941/cant-install-opencv3-on-anaconda3-python3-6-on-macos" target="_blank" rel="external">此处提供了其他遇到同样问题人的解决方法</a><br>这里的解决方法是用git安装，原代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/opencv/opencv</div><div class="line">$ git clone https://github.com/opencv/opencv_contrib</div><div class="line">$ cd ~/opencv</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake -D CMAKE_BUILD_TYPE=RELEASE \</div><div class="line">    -D PYTHON3_LIBRARY=/Users/yourusername/anaconda3/lib/libpython3.6m.dylib \</div><div class="line">    -D PYTHON3_INCLUDE_DIR=/Users/yourusername/anaconda3/include/python3.6m \</div><div class="line">    -D PYTHON_DEFAULT_EXECUTABLE=/Users/yourusername/anaconda3/bin/python3 \</div><div class="line">    -D PYTHON_PACKAGES_PATH=/Users/yourusername/anaconda3/lib/python3.6/site-packages \</div><div class="line">    -D INSTALL_C_EXAMPLES=OFF \</div><div class="line">    -D INSTALL_PYTHON_EXAMPLES=ON \</div><div class="line">    -D BUILD_EXAMPLES=ON \</div><div class="line">    -D BUILD_opencv_python3=ON \</div><div class="line">    -D BUILD_opencv_python2=OFF \</div><div class="line">    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib/modules ..</div><div class="line">$ make -j4</div><div class="line">$ make install</div></pre></td></tr></table></figure>
<p>我针对自己电脑进行了调整</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/opencv/opencv</div><div class="line">$ git clone https://github.com/opencv/opencv_contrib</div><div class="line">$ cd ~/opencv</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake -D CMAKE_BUILD_TYPE=RELEASE \</div><div class="line">    -D PYTHON3_LIBRARY=anaconda/lib/libpython3.6m.dylib \</div><div class="line">    -D PYTHON3_INCLUDE_DIR=/anaconda/include/python3.6m \</div><div class="line">    -D PYTHON_DEFAULT_EXECUTABLE=anaconda/bin/python3 \</div><div class="line">    -D PYTHON_PACKAGES_PATH=anaconda/lib/python3.6/site-packages \</div><div class="line">    -D INSTALL_C_EXAMPLES=OFF \</div><div class="line">    -D INSTALL_PYTHON_EXAMPLES=ON \</div><div class="line">    -D BUILD_EXAMPLES=ON \</div><div class="line">    -D BUILD_opencv_python3=ON \</div><div class="line">    -D BUILD_opencv_python2=OFF \</div><div class="line">    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib/modules ..</div><div class="line">$ make -j4</div><div class="line">$ make install</div></pre></td></tr></table></figure>
<p>这里出现新的问题，程序反馈没有cmake命令，cmake又是什么鬼？<br><strong>CMake is an open-source, cross-platform family of tools designed to build, test and package software. CMake is used to control the software compilation process using simple platform and compiler independent configuration files, and generate native makefiles and workspaces that can be used in the compiler environment of your choice. The suite of CMake tools were created by Kitware in response to the need for a powerful, cross-platform build environment for open-source projects such as ITK and VTK.</strong><br>这里是对于cmake的解释，大致就是这事个安装工具</p>
<p>##cmake安装<br>cmake安装相对简单<br>1，<a href="https://cmake.org/download/" target="_blank" rel="external">cmake官网下载地址</a><br>下载<code>Unix/Linux Source (has \n line feeds)     cmake-3.8.1.tar.gz</code>作为bash安装包<br>2，解压cmake-3.8.1.tar.gz，<br>3，运行bootstrap 批处理文件<br>4，安装完成后bash里输入make<br>5，之后输入make install</p>
<p>##Final<br>等待之后即可，安装好cmake后，用上面OpenCV代码安装OpenCV3<br>还没完。。。。<br>这时候运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ python</div><div class="line">import cv2</div><div class="line">ImportError: No module named cv2</div></pre></td></tr></table></figure>
<p>发现无法找到CV2<br>这是由于此处CV2没有命名为CV2.so</p>
<p>找到这个地址，修改cv2.cpython-36m-darwin.so为cv2.so<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cd ~/opencv/build/lib/python3.6/site-packages</div><div class="line">$ mv cv2.cpython-36m-darwin.so cv2.so</div></pre></td></tr></table></figure></p>
<p>之后将cv2.so拷贝到anaconda的插件位置<br><code>$ cp cv2.so /Users/yourusername/anaconda3/lib/python3.6/site-packages</code></p>
<p>#大功告成</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/opencv/" rel="tag"># opencv</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/28/bason-lecture/" rel="next" title="babson_lecture">
                <i class="fa fa-chevron-left"></i> babson_lecture
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/05/13/CV2-install/"
           data-title="CV2 install" data-url="http://zyplot.com/2017/05/13/CV2-install/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpeg"
               alt="Erick Zhang" />
          <p class="site-author-name" itemprop="name">Erick Zhang</p>
          <p class="site-description motion-element" itemprop="description">Keep hungry. Keep foolish.</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Erick Zhang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"erickzy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  

  

  

  

  


</body>
</html>
